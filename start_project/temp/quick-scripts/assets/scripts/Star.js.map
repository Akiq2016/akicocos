{"version":3,"sources":["Star.js"],"names":["cc","Class","extends","Component","properties","pickRadius","game","default","serializable","onLoad","start","update","dt","getPlayerDistance","onPicked","playerPosition","player","getPosition","pDistance","node","position","generateStar","destroy"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACPC,WAASF,GAAGG,SADL;;AAGPC,cAAY;AACVC,gBAAY,CADF;AAEVC,UAAM;AACJC,eAAS,IADL;AAEJ;AACA;AACA;AACA;AACAC,oBAAc;AANV;AAFI,GAHL;;AAePC,QAfO,oBAeG,CAAE,CAfL;AAiBPC,OAjBO,mBAiBE,CACR,CAlBM;AAoBPC,QApBO,kBAoBCC,EApBD,EAoBK;AACV,QAAI,KAAKC,iBAAL,KAA2B,KAAKR,UAApC,EAAgD;AAC9C,WAAKS,QAAL;AACA;AACD;AACF,GAzBM;;;AA2BP;;;AAGAD,qBAAmB,6BAAY;AAC7B,QAAIE,iBAAiB,KAAKT,IAAL,CAAUU,MAAV,CAAiBC,WAAjB,EAArB;AACA,WAAOjB,GAAGkB,SAAH,CAAa,KAAKC,IAAL,CAAUC,QAAvB,EAAiCL,cAAjC,CAAP;AACD,GAjCM;;AAmCPD,YAAU,oBAAW;AACnB,SAAKR,IAAL,CAAUe,YAAV;AACA,SAAKF,IAAL,CAAUG,OAAV;AACD;AAtCM,CAAT","file":"Star.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["cc.Class({\r\n  extends: cc.Component,\r\n\r\n  properties: {\r\n    pickRadius: 0,\r\n    game: {\r\n      default: null,\r\n      // Attributes that specify the default default value are serialized by default.\r\n      // After serialization, the values set in the editor are saved to the scene and other resource files,\r\n      // and the previously set values are automatically restored when the scene is loaded.\r\n      // If you do not want to serialize, you can set serializable: false.\r\n      serializable: false\r\n    }\r\n  },\r\n\r\n  onLoad () {},\r\n\r\n  start () {\r\n  },\r\n\r\n  update (dt) {\r\n    if (this.getPlayerDistance() < this.pickRadius) {\r\n      this.onPicked();\r\n      return;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * @return {number} distance\r\n   */\r\n  getPlayerDistance: function () {\r\n    var playerPosition = this.game.player.getPosition();\r\n    return cc.pDistance(this.node.position, playerPosition);\r\n  },\r\n\r\n  onPicked: function() {\r\n    this.game.generateStar();\r\n    this.node.destroy();\r\n  },\r\n});\r\n"]}